/*! of-course 2013-02-21 */
if($.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"}),$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,t,n){e.oLanguage.oPaginate;var a=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).addClass("pagination pagination-centered").append('<ul><li class="prev disabled"><a href="#">«​</a></li><li class="next disabled"><a href="#">»​</a></li></ul>');var s=$("a",t);$(s[0]).bind("click.DT",{action:"previous"},a),$(s[1]).bind("click.DT",{action:"next"},a)},fnUpdate:function(e,t){var n,a,s,i,o,l=5,r=e.oInstance.fnPagingInfo(),d=e.aanFeatures.p,c=Math.floor(l/2);for(l>r.iTotalPages?(i=1,o=r.iTotalPages):c>=r.iPage?(i=1,o=l):r.iPage>=r.iTotalPages-c?(i=r.iTotalPages-l+1,o=r.iTotalPages):(i=r.iPage-c+1,o=i+l-1),n=0,iLen=d.length;iLen>n;n++){for($("li:gt(0)",d[n]).filter(":not(:last)").remove(),a=i;o>=a;a++)s=a==r.iPage+1?'class="active"':"",$("<li "+s+'><a href="#">'+a+"</a></li>").insertBefore($("li:last",d[n])[0]).bind("click",function(n){n.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*r.iLength,t(e)});0===r.iPage?$("li:first",d[n]).addClass("disabled"):$("li:first",d[n]).removeClass("disabled"),r.iPage===r.iTotalPages-1||0===r.iTotalPages?$("li:last",d[n]).addClass("disabled"):$("li:last",d[n]).removeClass("disabled")}}}}),jQuery(document).ready(function(e){e(".search_links li.toplink").hover(function(){var t=e(this).children(".megamenu");t.css("display","none"),t.fadeIn(350)},function(){e(this).children(".megamenu").stop().css("opacity",1),e(this).parent().find(".megamenu").css("display","none")})}),function(){var e=function(){this.data_store=[],this.options=[],this.results=[],this.selectedIndex=0,this.target=null,this.dom=null,this.lastValue="";var e=this;this.attach=function(a){if(e.options=a,!a.target)return console.log("Error: Target not specified"),void 0;if(e.target=document.getElementById(a.target),!e.target)return console.log("Error: Target ID could not be found"),void 0;if(a.key_value||(a.key_value="name"),a.display_name||(a.display_name=a.key_value),a.url!==void 0)t.ajaxGetJSON(a.url,n.initialise_data);else{if(void 0===a.data)return console.log("Error: No datasource provided."),void 0;n.initialise_data(a.data)}e.dom=document.createElement("div"),e.dom.className="quickspot-results",e.dom.setAttribute("tabindex","100"),e.dom.style.display="none",e.target.parentNode.appendChild(e.dom),t.addListener(e.target,"keydown",n.handleKeyUp),t.addListener(e.target,"keyup",n.handleKeyDown),t.addListener(e.target,"focus",n.handleFocus),t.addListener(e.target,"blur",n.handleBlur),t.addListener(e.dom,"blur",n.handleBlur),t.addListener(e.dom,"blur",n.handleKeyUp)};var n={};n.findResultsFor=function(a){return""==a?(e.results=[],e.dom.style.display="none",void 0):(a=a.toLowerCase(),e.lastValue==a?(e.dom.style.display="block",void 0):(t.triggerEvent(e.target,"quickspot:start"),e.lastValue=a,this.selectedIndex=0,e.results=n.sortResults(n.findMatches(a),a),n.render_results(e.results),t.triggerEvent(e.target,"quickspot:end"),void 0))},n.handleFocus=function(){n.findResultsFor(e.target.value)},n.handleKeyDown=function(){n.findResultsFor(e.target.value)},n.handleKeyUp=function(t){var a=t.keyCode;13==a&&n.handleSelection(e.results[e.selectedIndex]),38==a&&n.selectIndex(e.selectedIndex-1),40==a&&n.selectIndex(e.selectedIndex+1),(13==a||38==a||40==a)&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},n.handleBlur=function(){setTimeout(function(){e.dom!=document.activeElement&&e.target!=document.activeElement&&(e.dom.style.display="none")},150)},n.selectIndex=function(n){t.removeClass(e.dom.children[e.selectedIndex],"selected"),e.selectedIndex=n>=e.results.length?e.results.length-1:0>n?0:n,t.addClass(e.dom.children[e.selectedIndex],"selected")},n.render_results=function(a){if(0===a.length)return e.dom.style.display="none",t.triggerEvent(e.target,"quickspot:noresults"),void 0;var s,i=document.createDocumentFragment();a.forEach(function(a,o){s=document.createElement("a"),s.innerHTML=e.options.display_handler!==void 0?e.options.display_handler(a):a[e.options.display_name],s.className="quickspot-result quickspot-result-"+o,t.addListener(s,"click",function(){n.handleSelection(a)}),t.addListener(s,"mouseover",function(){n.selectIndex(o)}),i.appendChild(s)}),t.triggerEvent(e.target,"quickspot:resultsfound"),e.dom.innerHTML="",e.dom.style.display="block",e.dom.appendChild(i),n.selectIndex(this.selectedIndex)},n.handleSelection=function(t){e.options.click_handler!==void 0?e.options.click_handler(t):t.url!==void 0?window.location=url:(e.target.value=t[e.options.display_name],e.dom.style.display="none")},n.findMatches=function(t){var n,a=[];t=t;for(var s=0;e.data_store.length>s;s++)n=e.data_store[s],-1!==n.__searchvalues.indexOf(t)&&a.push(n);return a},n.sortResults=function(t,a){for(var s=e.options.gen_score===void 0?n.calculateScore:e.options.gen_score,i=0;t.length>i;i++)t[i].__score=s(t[i],a);return t.sort(function(e,t){return e.__score==t.__score?0:e.__score<t.__score?1:-1}),t},n.calculateScore=function(e,n){var a,s=0;return a=e.__keyvalue.indexOf(n),2>n.length&&(s+=t.occurrences(e.__searchvalues,n)),s+=-1!==e.__searchvalues.indexOf(" "+n)?5:0,s+=-1!==a?5:0,s+=0===a?10:0},n.initialise_data=function(t){for(var n,a,s=0;t.length>s;s++){if(n="",e.options.search_on!==void 0){a=e.options.search_on;for(var i=0;a.length>i;i++)n+=" "+t[s][a[i]]}else for(var o in t[s])n+=" "+t[s][o];t[s].__searchvalues=n.toLowerCase(),t[s].__keyvalue=t[s][e.options.key_value].toLowerCase()}e.data_store=t}},t={};t.ajaxGetJSON=function(e,t){try{var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(JSON.parse(n.responseText))},n.open("GET",e,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(null)},t.addListener=function(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.triggerEvent=function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}},t.addClass=function(e,n){null!=e&&(t.hasClass(e,n)||(e.className=e.className+" "+n))},t.removeClass=function(e,t){null!=e&&(e.className=e.className.replace(RegExp("(^|\\s)"+t+"(\\s|$)"),""))},t.hasClass=function(e,t){return null!=e?null!=e.className.match(RegExp("(^|\\s)"+t+"(\\s|$)")):void 0},t.occurrences=function(e,t){if(e+="",t+="",0>=t.length)return e.length+1;for(var n=0,a=0,s=t.length;;){if(a=e.indexOf(t,a),!(a>=0))break;n++,a+=s}return n},window.quickspot={},window.quickspot.attach=function(n){t.addListener(window,"load",function(){var t=new e;t.attach(n)})}}.call({}),"forEach"in Array.prototype||(Array.prototype.forEach=function(e,t){for(var n=0,a=this.length;a>n;n++)n in this&&e.call(t,this[n],n,this)}),"undefined"==typeof JSON){var json2=document.createElement("script");json2.src="http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js",document.getElementsByTagName("head")[0].appendChild(json2)}"undefined"==typeof console&&(window.console={log:function(){}});